(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))e(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&e(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function e(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();const U=function(n){if(n.firstElementChild)return n.firstElementChild;const o=n.childNodes;for(let t=0,e=o.length;t<e;t++)if(o[t]instanceof Element)return o[t];return null},J=function(n){return n.childElementCount||Array.prototype.filter.call(n.childNodes,function(o){return o instanceof Element}).length},X=function(n){for(let o=0;o<n.childNodes.length;o++){const t=n.childNodes[o];t.nodeType===8||t.nodeType===3&&!/\S/.test(t.nodeValue||"")?(n.removeChild(t),o--):t.nodeType===1&&X(t)}},ee=new DOMParser,I=function(n){if(typeof n=="number"||!isNaN(Number(n)))return document.createTextNode(String(n));if(typeof n=="string")try{const t=ee.parseFromString(n,"text/html").body;if(t.childNodes.length===1)return t.firstChild;{const e=document.createDocumentFragment();for(;t.firstChild;)e.appendChild(t.firstChild);return e}}catch{return document.createTextNode(n)}else return document.createTextNode("")},te=function(n){return Object.prototype.toString.call(n)==="[object Object]"},ne=(n,o)=>({rules:{style:{pattern:/(\<style id=[\s\S]+?\>[\s\S]+?\<\/style\>)/g,exec:function(t){var e;const r=document.createElement("template");r.innerHTML=t;const a=(r.content||r).querySelector("style");if(!a||!a.id)return"";const i=document.getElementById(a.id);return i&&((e=i.parentNode)===null||e===void 0||e.removeChild(i)),document.head.appendChild(a),""}},commentArea:{pattern:/##\*([\s\S]+?)##/g,exec:function(t){return""}},preEvaluate:{pattern:/##!([\s\S]+?)##/g,exec:function(t,e){try{new Function("compomint","tmplId",t)(o,e)}catch(r){if(n.throwError)throw console.error(`Template preEvaluate error in "${e}", ${r.name}: ${r.message}`),r;console.warn(`Template preEvaluate error in "${e}", ${r.name}: ${r.message}`)}return""}},interpolate:{pattern:/##=([\s\S]+?)##/g,exec:function(t){return`';
(() => {let __t, interpolate=${t};
__p+=((__t=(typeof (interpolate)=='function' ? (interpolate)() : (interpolate)))==null ? '' : String(__t) );})();
__p+='`}},escape:{pattern:/##-([\s\S]+?)##/g,exec:function(t){return`';
(() => {let __t, escape=${t};
__p+=((__t=(compomint.tools.escapeHtml.escape(typeof (escape)=='function' ? (escape)() : (escape))))==null ? '' : String(__t) );})();
__p+='`}},elementProps:{pattern:/data-co-props="##:([\s\S]+?)##"/g,exec:function(t){return`';
const eventId = (__lazyScope.elementPropsArray.length);
__p+='data-co-props="'+eventId+'"';

__lazyScope.elementPropsArray[eventId] = ${t};
__p+='`},lazyExec:function(t,e,r,a){e.elementPropsArray.forEach(function(i,l){if(!i)return;const c=a.querySelector(`[data-co-props="${l}"]`);c&&(delete c.dataset.coProps,Object.keys(i).forEach(function(h){c.setAttribute(h,String(i[h]))}))})}},namedElement:{pattern:/data-co-named-element="##:([\s\S]+?)##"/g,exec:function(t){return`';
const eventId = (__lazyScope.namedElementArray.length);
__p+='data-co-named-element="'+eventId+'"';

__lazyScope.namedElementArray[eventId] = ${t};
__p+='`},lazyExec:function(t,e,r,a){e.namedElementArray.forEach(function(i,l){const c=a.querySelector(`[data-co-named-element="${l}"]`);if(!c){n.debug&&console.warn(`Named element target not found for ID ${l} in template ${r.tmplId}`);return}delete c.dataset.coNamedElement,r[i]=c})}},elementRef:{pattern:/data-co-element-ref="##:([\s\S]+?)##"/g,exec:function(t){return`';
var eventId = (__lazyScope.elementRefArray.length);
__p+='data-co-element-ref="'+eventId+'"';
var ${t} = null;
__lazyScope.elementRefArray[eventId] = function(target) {${t} = target;};
__p+='`},lazyExec:function(t,e,r,a){e.elementRefArray.forEach(function(i,l){const c=a.querySelector(`[data-co-element-ref="${l}"]`);if(!c){n.debug&&console.warn(`Element ref target not found for ID ${l} in template ${r.tmplId}`);return}delete c.dataset.coElementRef,i.call(c,c)})}},elementLoad:{pattern:/data-co-load="##:([\s\S]+?)##"/g,exec:function(t){const e=t.split("::");return`';
const eventId = (__lazyScope.elementLoadArray.length);
__p+='data-co-load="'+eventId+'"';
__lazyScope.elementLoadArray[eventId] = {loadFunc: ${e[0]}, customData: ${e[1]}};
__p+='`},lazyExec:function(t,e,r,a){e.elementLoadArray.forEach(function(i,l){const c=a.querySelector(`[data-co-load="${l}"]`);if(!c){n.debug&&console.warn(`Element load target not found for ID ${l} in template ${r.tmplId}`);return}delete c.dataset.coLoad;try{if(typeof i.loadFunc=="function"){const h=[c,c,{data:t,element:c,customData:i.customData,component:r,compomint:o}];i.loadFunc.call(...h)}}catch(h){if(console.error(`Error executing elementLoad function for ID ${l} in template ${r.tmplId}:`,h,i.loadFunc),n.throwError)throw h}})}},event:{pattern:/data-co-event="##:([\s\S]+?)##"/g,exec:function(t){const e=t.split(":::");let r=`';
(() => {const eventId = (__lazyScope.eventArray.length);
__p+='data-co-event="'+eventId+'"';
`;const a=[];for(let i=0,l=e.length;i<l;i++){const c=e[i].split("::");a.push(`{eventFunc: ${c[0]}, $parent: this, customData: ${c[1]}}`)}return r+=`__lazyScope.eventArray[eventId] = [${a.join(",")}];})()
__p+='`,r},lazyExec:function(t,e,r,a){const i=this,l=i.attacher;l&&e.eventArray.forEach(function(c,h){const u=a.querySelector(`[data-co-event="${h}"]`);if(!u){n.debug&&console.warn(`Event target not found for ID ${h} in template ${r.tmplId}`);return}delete u.dataset.coEvent;for(let d=0,p=c.length;d<p;d++){const f=c[d];f.eventFunc&&(Array.isArray(f.eventFunc)?f.eventFunc.forEach(function(g){l(i,t,e,r,a,u,g,f)}):l(i,t,e,r,a,u,f.eventFunc,f))}})},trigger:function(t,e){const r=new Event(e,{bubbles:!0,cancelable:!0});t.dispatchEvent(r)},attacher:function(t,e,r,a,i,l,c,h){const u=t.trigger,d=U(i),p=J(i)===1?d:null;if(!c)return;const f=[l,null,{data:e,customData:h.customData,element:l,componentElement:p||(d==null?void 0:d.parentElement),component:a,compomint:o}];if(typeof c=="function"){const v=function(w){w.stopPropagation(),f[1]=w;try{c.call(...f)}catch(T){if(console.error(`Error in event handler for template ${a.tmplId}:`,T,c),n.throwError)throw T}};l.addEventListener("click",v),h.element=l,h.eventFunc=v;return}if(!te(c))return;const g=c,y=g.triggerName;y&&(a.trigger=a.trigger||{},a.trigger[y]={}),Object.keys(g).forEach(function(v){const w=g[v];if(v==="load"){f[1]=l;try{w.call(...f)}catch(E){if(console.error(`Error in 'load' event handler for template ${a.tmplId}:`,E,w),n.throwError)throw E}return}else if(v==="namedElement"){a[w]=l;return}else if(v==="triggerName")return;const T=function(E){E.stopPropagation(),f[1]=E;try{w.call(...f)}catch(L){if(console.error(`Error in '${v}' event handler for template ${a.tmplId}:`,L,w),n.throwError)throw L}};l.addEventListener(v,T),h.element=l,c[v]=T,y&&u&&(a.trigger[y][v]=function(){u(l,v)})})}},element:{pattern:/##%([\s\S]+?)##/g,exec:function(t){const e=t.split("::");return`';
(() => {
const elementId = (__lazyScope.elementArray.length);
__p+='<template data-co-tmpl-element-id="'+elementId+'"></template>';
__lazyScope.elementArray[elementId] = {childTarget: ${e[0]}, nonblocking: ${e[1]||!1}};})();
__p+='`},lazyExec:function(t,e,r,a){e.elementArray.forEach(function(i,l){const c=i.childTarget,h=i.nonblocking,u=a.querySelector(`template[data-co-tmpl-element-id="${l}"]`);if(!u){n.debug&&console.warn(`Element insertion placeholder not found for ID ${l} in template ${r.tmplId}`);return}if(!u.parentNode){n.debug&&console.warn(`Element insertion placeholder for ID ${l} in template ${r.tmplId} has no parent.`);return}const d=function(){if(!u||!u.parentNode){n.debug&&console.warn(`Placeholder for ID ${l} removed before insertion in template ${r.tmplId}.`);return}try{if(c instanceof Array){const p=document.createDocumentFragment();c.forEach(function(f){if(!f)return;const g=f.element||f;let y=null;if(typeof g=="string"||typeof g=="number")y=I(g);else if(typeof g=="function")y=I(g());else if(g instanceof Node)y=g;else{n.debug&&console.warn(`Invalid item type in element array for ID ${l}, template ${r.tmplId}:`,g);return}if(f.beforeAppendTo)try{f.beforeAppendTo()}catch(v){console.error("Error in beforeAppendTo (array item):",v)}y&&p.appendChild(y)}),u.parentNode.replaceChild(p,u),c.forEach(function(f){f&&f.afterAppendTo&&setTimeout(()=>{try{f.afterAppendTo()}catch(g){console.error("Error in afterAppendTo (array item):",g)}},0)})}else if(typeof c=="string"||typeof c=="number")u.parentNode.replaceChild(I(c),u);else if(typeof c=="function")u.parentNode.replaceChild(I(c()),u);else if(c&&(c.element||c)instanceof Node){const p=c,f=p.element||p;if(p.beforeAppendTo)try{p.beforeAppendTo()}catch(g){console.error("Error in beforeAppendTo:",g)}u.parentNode.replaceChild(f,u),p.afterAppendTo&&setTimeout(()=>{try{p.afterAppendTo&&p.afterAppendTo()}catch(g){console.error("Error in afterAppendTo:",g)}},0),p.tmplId&&(p.parentComponent=r)}else n.debug&&console.warn(`Invalid target for element insertion ID ${l}, template ${r.tmplId}:`,c),u.parentNode.removeChild(u)}catch(p){if(console.error(`Error during element insertion for ID ${l}, template ${r.tmplId}:`,p),n.throwError)throw p;if(u&&u.parentNode)try{u.parentNode.removeChild(u)}catch{}}};h===void 0||h===!1?d():setTimeout(d,typeof h=="number"?h:0)})}},lazyEvaluate:{pattern:/###([\s\S]+?)##/g,exec:function(t){return`';
__lazyScope.lazyEvaluateArray.push(function(data) {${t}});
__p+='`},lazyExec:function(t,e,r,a){const i=U(a),l=J(a)===1?i:null;e.lazyEvaluateArray.forEach(function(c,h){try{c.call(l||a,t)}catch(u){if(console.error(`Error in lazyEvaluate block ${h} for template ${r.tmplId}:`,u,c),n.throwError)throw u}})}},evaluate:{pattern:/##([\s\S]+?)##/g,exec:t=>`';
`+t+`
__p+='`}},keys:{dataKeyName:"data",statusKeyName:"status",componentKeyName:"component",i18nKeyName:"i18n"}}),oe=n=>{n("co-Ele","<##=data[0]##></##=data[0]##>###compomint.tools.applyElementProps(this, data[1]);##"),n("co-Element",`##
  data.tag = data.tag || 'div';
  ##
  &lt;##=data.tag##
    ##=data.id ? 'id="' + (data.id === true ? component._id : data.id) + '"' : ''##
    data-co-props="##:data.props##"
    data-co-event="##:data.event##"&gt;
    ##if (typeof data.content === "string") {##
    ##=data.content##
    ##} else {##
      ##%data.content##
    ##}##
  &lt;/##=data.tag##&gt;`)};typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(o,...t){if(o==null)throw new TypeError("Cannot convert undefined or null to object");const e=Object(o);for(let r=0,a=t.length;r<a;r++){const i=t[r];if(i!=null)for(let l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},writable:!0,configurable:!0});(function(n){n.forEach(function(o){!o||o.hasOwnProperty("remove")||Object.defineProperty(o,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode!==null&&this.parentNode.removeChild(this)}})})})([Element.prototype,CharacterData.prototype,DocumentType.prototype]);(function(n){n||Object.defineProperty(window.Node.prototype,"isConnected",{get:function(){return document.body.contains(this)}})})("isConnected"in window.Node.prototype);const b={},N={},z=b.tools=b.tools||{},_=b.configs=Object.assign({printExecTime:!1,debug:!1,throwError:!0},b.configs),O=b.tmplCache=b.tmplCache||new Map;O.has("anonymous")||O.set("anonymous",{elements:new Set});const re="content"in document.createElement("template"),ae=/(.)^/,V={"'":"\\'","\\":"\\\\","\r":"\\r","\n":"\\n","	":"\\t","\u2028":"\u2028","\u2029":"\u2029","><":"><","<":"<",">":">"},K=/\>( |\n)+\<|\>( |\n)+|( |\n)+\<|\\|'|\r|\n|\t|\u2028|\u2029/g;b.templateEngine=ne(_,b);const q=function(){const n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},o=Object.keys(n).reduce((e,r)=>(e[n[r]]=r,e),{}),t=function(e){const r=function(c){return e[c]},a=`(?:${Object.keys(e).join("|").replace(/\\/g,"\\\\")})`,i=RegExp(a),l=RegExp(a,"g");return function(c){return c=c==null?"":`${c}`,i.test(c)?c.replace(l,r):c}};return{escape:t(n),unescape:t(o)}}();z.escapeHtml=q;const Z=function(n){const o=[],t=[],e={},r={};return Object.keys(n).forEach(function(a){const i=n[a];if(i&&typeof i=="object"&&i.pattern instanceof RegExp&&typeof i.exec=="function"&&(o.push((i.pattern||ae).source),t.push(i.exec)),i&&typeof i=="object"&&typeof i.lazyExec=="function"){const l=`${a}Array`;e[l]=i.lazyExec,r[l]=[]}}),{templateRules:n,pattern:new RegExp(o.join("|"),"g"),exec:t,lazyExecKeys:Object.keys(r),lazyExec:e,lazyScopeSeed:JSON.stringify(r)}},B=function(n){return V[n]||V[n.replace(/[ \n]/g,"")]||""},ie=Z(b.templateEngine.rules),ce=function(n,o,t){_.printExecTime&&console.time(`tmpl: ${n}`);let e=0,r="";return o.replace(t.pattern,function(...a){const i=a[0],l=a[a.length-2];r+=o.slice(e,l).replace(K,B);let c,h=null;if(a.slice(1,-2).some(function(u,d){return u!==void 0?(c=u,h=d,!0):!1}),c!==void 0&&h!==null)try{r+=t.exec[h].call(t.templateRules,c,n)}catch(u){if(console.error(`Error executing template rule index ${h} for match "${c}" in template "${n}":`,u),_.throwError)throw u;r+=""}else r+=i.replace(K,B);return e=l+i.length,i}),r+=o.slice(e).replace(K,B),_.printExecTime&&console.timeEnd(`tmpl: ${n}`),r},le=b.template=function(o,t,e){let r=b.templateEngine,a=ie;e&&(r=Object.assign({},b.templateEngine,e),a=Z(r.rules));const i=`
/* tmplId: ${o} */
//# sourceURL=http://tmpl//${o.split("-").join("//")}.js
// if (__debugger) {
// debugger;
// }
let __p='';
__p+='${ce(o,t,a)}';
return __p;`;let l=null;try{l=new Function(r.keys.dataKeyName,r.keys.statusKeyName,r.keys.componentKeyName,r.keys.i18nKeyName,"compomint","tmpl","__lazyScope","__debugger",i)}catch(h){if(_.throwError){console.error(`Template compilation error in "${o}", ${h.name}: ${h.message}`);try{new Function(r.keys.dataKeyName,r.keys.statusKeyName,r.keys.componentKeyName,r.keys.i18nKeyName,"compomint","tmpl","__lazyScope","__debugger",i)}catch{}throw h}else return()=>({})}const c=function(...u){let d,p,f,g;const y=u[0];y&&typeof y=="object"&&(y.$wrapperElement||y.$callback||y.$baseComponent)?(d=Object.assign({},y),p=d.$wrapperElement,delete d.$wrapperElement,f=d.$callback,delete d.$callback,g=d.$baseComponent,delete d.$baseComponent):(d=y,typeof u[1]=="function"?(p=void 0,f=u[1],g=u[2]):(p=u[1],f=u[2],g=u[3]));const v=r.keys.dataKeyName,w=r.keys.statusKeyName,T=JSON.parse(a.lazyScopeSeed),E=Object.assign(g||{},{tmplId:o,element:null,status:g&&g.status||{},replace:function(m){const s=this;if(!s.element||!(s.element instanceof Node)||!s.element.parentElement){_.debug&&console.warn(`Cannot replace template "${o}": element not in DOM.`);return}s.element.parentElement.replaceChild(m.element||m,s.element)},remove:function(m=!1){const s=this;if(s.beforeRemove)try{s.beforeRemove()}catch(A){console.error("Error in beforeRemove:",A)}T.eventArray&&T.eventArray.forEach(function(A){A.forEach(function(C){C.element&&(typeof C.eventFunc=="function"?C.element.removeEventListener("click",C.eventFunc):Object.keys(C.eventFunc).forEach(function(R){C.element.removeEventListener(R,C.eventFunc[R])}),Object.keys(C).forEach(R=>delete C[R]))})});const $=s.element instanceof Node?s.element.parentElement:null,k=s.element;if($)if(m){const A=document.createElement("template");$.replaceChild(A,s.element),s.element=A}else $.removeChild(s.element);else _.debug&&console.warn(`Cannot remove template "${o}": element not in DOM.`);if(s.afterRemove)try{s.afterRemove()}catch(A){console.error("Error in afterRemove:",A)}return k},appendTo:function(m){const s=this;if(s.beforeAppendTo)try{s.beforeAppendTo()}catch($){console.error("Error in beforeAppendTo:",$)}return m&&s.element instanceof Node?m.appendChild(s.element):_.debug&&console.warn(`Cannot append template "${o}": parentElement or scope.element is missing or not a Node.`),s.afterAppendTo&&setTimeout(()=>{try{s.afterAppendTo()}catch($){console.error("Error in afterAppendTo:",$)}},0),s},release:function(){},render:function(m){return this},refresh:function(m){return this},reflash:function(m){return this}});E._id||(E._id=z.genId(o)),E[v]=d,E[w]==null&&(E[w]={});const L=p instanceof Element,D=document.createElement("template");_.printExecTime&&console.time(`render: ${o}`);let S=null,F=null;try{F=d?l.call(p||null,d,E[w],E,b.i18n[o],b,N,T,_.debug):`<template data-co-empty-template="${o}"></template>`}catch(m){if(_.throwError){console.error(`Runtime error during render of "${o}":`,m.message),console.log("--- Data ---",d,"------------");try{l.call(p||null,d,E[w],E,b.i18n[o],T,!0)}catch{}throw m}else return console.warn(`Render failed for "${o}". Returning scope with comment node.`),E.element=document.createComment(`Render Error: ${o}`),E}_.printExecTime&&console.timeEnd(`render: ${o}`),D.innerHTML=F;let x=D.content||D;if(x.tagName=="TEMPLATE"&&!D.content){const m=Array.from(x.childNodes);x=document.createDocumentFragment(),m.forEach(s=>x.appendChild(s))}if(L&&p){for(;p.firstChild;)p.removeChild(p.firstChild);E.wrapperElement=p}if((x.querySelector?x.querySelector("style"):null)&&x.querySelector){const m=document.createElement(o);try{const s=m.attachShadow({mode:"open"});for(;x.firstChild;)s.appendChild(x.firstChild);x=m}catch(s){console.error(`Failed to attach shadow DOM for template "${o}":`,s)}}if(x.firstChild&&x.firstChild.nodeType==8)S=x.firstChild;else if(J(x)==1){if(S=U(x),L&&p&&S){if(E.beforeAppendTo)try{E.beforeAppendTo()}catch(m){console.error("Error in beforeAppendTo:",m)}p.appendChild(S),E.afterAppendTo&&setTimeout(()=>{try{E.afterAppendTo()}catch(m){console.error("Error in afterAppendTo:",m)}},0)}}else if(L&&p){if(E.beforeAppendTo)try{E.beforeAppendTo()}catch(m){console.error("Error in beforeAppendTo:",m)}p.appendChild(x),E.afterAppendTo&&setTimeout(()=>{try{E.afterAppendTo()}catch(m){console.error("Error in afterAppendTo:",m)}},0),S=p}else S=x;if(d&&d.$props&&S instanceof Element)for(const m in d.$props)try{const s=d.$props[m];if(m.startsWith("data-")){const $=m.substring(5).replace(/-([a-z])/g,k=>k[1].toUpperCase());S.dataset[$]=String(s)}else m in S?S[m]=s:S.setAttribute(m,String(s))}catch(s){console.error(`Error applying prop "${m}" to element in template "${o}":`,s)}S instanceof Node&&S.normalize&&S.normalize(),S instanceof Node&&X(S),E.element=S;const P=a.lazyExec;if(d&&a.lazyExecKeys.forEach(function(m){if(T[m]&&T[m].length>0)try{P[m].call(r.rules[m.slice(0,-5)],d,T,E,x)}catch(s){if(_.throwError)throw console.error(`Error during lazy execution of "${m}" for template "${o}":`,s),s}}),z.liveReloadSupport)try{z.liveReloadSupport(E)}catch(m){console.error("Error in liveReloadSupport:",m)}if(f)try{f.call(p||null,E)}catch(m){if(console.error(`Error in template callback for "${o}":`,m),_.throwError)throw m}return E.release=function(){const m=this,s=Object.getOwnPropertyNames(m),$=[w,"_id"];for(let k=0;k<s.length;k++){const A=s[k];typeof m[A]!="function"&&!$.includes(A)&&delete m[A]}},E.render=function(m){const s=this,$=s.element,k=$ instanceof Node?$.parentElement:null,A=s.wrapperElement,C=b.tmpl(s.tmplId);if(!C)return console.error(`Cannot re-render: Template function for "${s.tmplId}" not found.`),s;const R={beforeAppendTo:s.beforeAppendTo,afterAppendTo:s.afterAppendTo,beforeRemove:s.beforeRemove,afterRemove:s.afterRemove,beforeRefresh:s.beforeRefresh,afterRefresh:s.afterRefresh};if(s.beforeRemove)try{s.beforeRemove()}catch(j){console.error("Error in beforeRemove during render:",j)}let M;if(A)M=C(m,A,void 0,s);else if(k&&$ instanceof Node)if(M=C(m,void 0,void 0,s),M.element instanceof Node){if(M.beforeAppendTo)try{M.beforeAppendTo()}catch(j){console.error("Error in beforeAppendTo during render:",j)}k.replaceChild(M.element,$),M.afterAppendTo&&setTimeout(()=>{try{M.afterAppendTo()}catch(j){console.error("Error in afterAppendTo during render:",j)}},0)}else _.debug&&console.warn(`Re-render of "${s.tmplId}" resulted in no element or target was missing.`);else M=C(m,void 0,void 0,s);if(s.afterRemove)try{s.afterRemove()}catch(j){console.error("Error in afterRemove during render:",j)}return Object.assign(M,R),M},E.refresh=function(m){const s=this,$=s[v];if(s.beforeRefresh)try{s.beforeRefresh()}catch(C){console.error("Error in beforeRefresh:",C)}const k=Object.assign({},$||{},m),A=s.render(k);if(s.afterRefresh)try{s.afterRefresh()}catch(C){console.error("Error in afterRefresh:",C)}return A},E.reflash=E.refresh,E};if(Object.defineProperty(c,"name",{value:`render_${o}`,writable:!1}),o){const h=_.debug?{renderingFunc:c,source:q.escape(`function ${o}_source (${r.keys.dataKeyName}, ${r.keys.statusKeyName}, ${r.keys.componentKeyName}, ${r.keys.i18nKeyName}, __lazyScope, __debugger) {
${i}
}`),templateText:q.escape(t)}:{renderingFunc:c};O.set(o,h);const u=o.split("-");if(u.length>1){const d=u[0];let p=N[d];p||(N[d]=p={});const f=u.slice(1).map((g,y)=>y===0?g:g.charAt(0).toUpperCase()+g.slice(1)).join("");p[f]=h.renderingFunc}}return c};b.remapTmpl=function(n){Object.keys(n).forEach(function(o){const t=n[o],e=O.get(o);e?(O.set(t,e),_.debug&&console.log(`Remapped template "${o}" to "${t}"`)):_.debug&&console.warn(`Cannot remap template: Old key "${o}" not found in cache.`)})};b.tmpl=function(n){const o=O.get(n);return o?o.renderingFunc:null};const Q=function(n){let o;if(n instanceof Element)return n.tagName==="TEMPLATE",n;if(typeof n!="string"&&(_.debug&&console.warn("safeTemplate received non-string/non-element source:",n),n=""),o=document.createElement("template"),re){const t=n.replace(/<(?!template|\/template|body|\/body|html|\/html|head|\/head|style|\/style|script|\/script|link|\/link|meta|\/meta|!--)/gi,"&lt;");o.innerHTML=t}else{const t=n.replace(/<(?!template|\/template|body|\/body|html|\/html|head|\/head|style|\/style|script|\/script|link|\/link|meta|\/meta|!--)/gi,"&lt;").replace(/<template/g,'<script type="template"').replace(/<\/template>/g,"<\/script>");o.innerHTML=t}return o},W=b.addTmpl=function(n,o,t){let e=o instanceof Element?o.innerHTML:String(o);return e=q.unescape(e.replace(/<!---|--->/gi,"")),le(n,e,t)},se=b.addTmpls=function(n,o,t){typeof o!="boolean"&&t==null?(t=o,o=!1):o=!!o;const e=Q(n);return(e.content||e).querySelectorAll('template[id], script[type="text/template"][id], script[type="text/compomint"][id]').forEach(i=>{const l=i.id;l&&(i.dataset.coLoadScript!==void 0?W(l,i,t)({}):W(l,i,t),o&&i.parentNode&&i.parentNode.removeChild(i))}),e};b.addTmplByUrl=function(o,t,e){!e&&typeof t=="function"&&(e=t,t={});const a=Object.assign({},{loadScript:!0,loadStyle:!0,loadLink:!0,templateEngine:void 0},t),i=d=>typeof d=="string"?{url:d,option:a}:d&&typeof d=="object"&&d.url?{url:d.url,option:Object.assign({},a,d.option)}:(console.error("Invalid import data format in addTmplByUrl:",d),null),l=d=>{d.forEach(p=>{var f;if(p){if(p.id){const g=document.getElementById(p.id);g&&((f=g.parentNode)===null||f===void 0||f.removeChild(g))}p.tagName==="SCRIPT"||p.tagName==="LINK"||p.tagName==="STYLE"?document.head.appendChild(p):document.body.appendChild(p)}})},c=(d,p)=>{const f=Q(d);se(f,!1,p.tmplSettings);const g=f.content||f;if(p.loadLink){const y=g.querySelectorAll('link[rel="stylesheet"]');l(y)}if(p.loadStyle){const y=g.querySelectorAll("style[id]");l(y)}if(p.loadScript){const y=g.querySelectorAll('script:not([type]), script[type="text/javascript"], script[type="module"]'),v=Array.from(y).filter(w=>{let T=w.parentNode;for(;T;){if(T.nodeName==="TEMPLATE"||T.nodeName==="SCRIPT"&&T.type.includes("template"))return!1;T=T.parentNode}return!0}).map(w=>{const T=document.createElement("script");return w.getAttributeNames().forEach(E=>T.setAttribute(E,w.getAttribute(E))),w.innerHTML&&(T.textContent=w.innerHTML),T});l(v)}},h=d=>new Promise((p,f)=>{const g=i(d);if(!g){p();return}const y=g.url,v=g.option;if(y.endsWith(".js")){const w=G("script",{async:!0,src:y});w.addEventListener("load",()=>p()),w.addEventListener("error",()=>{console.error(`Failed to load script: ${y}`),f(new Error(`Failed to load script: ${y}`))}),document.head.appendChild(w)}else if(y.endsWith(".css")){const w=G("link",{type:"text/css",rel:"stylesheet",href:y});w.addEventListener("load",()=>p()),w.addEventListener("error",()=>{console.error(`Failed to load stylesheet: ${y}`),f(new Error(`Failed to load stylesheet: ${y}`))}),document.head.appendChild(w)}else de(y,null,(w,T)=>{if(T===200||T===0)try{c(w,v),p()}catch(E){console.error(`Error processing imported HTML from ${y}:`,E),f(new Error(`Error processing imported HTML from ${y}: ${E}`))}else console.error(`Failed to fetch template file: ${y} (Status: ${T})`),f(new Error(`Failed to fetch template file: ${y} (Status: ${T})`))})});if(o==null)if(e){e();return}else return Promise.resolve();const u=Array.isArray(o)?o.length===0?Promise.resolve():Promise.all(o.map(h)).then(()=>{}).catch(d=>{throw console.error("Error loading resources in addTmplByUrl:",d),d}):h(o).catch(d=>{throw console.error("Error loading resource in addTmplByUrl:",d),d});if(e){u.then(()=>e()).catch(d=>{console.error("Error in addTmplByUrl callback mode:",d),e()});return}else return u};const de=function(n,o,t){const e=new XMLHttpRequest;e.onreadystatechange=function(){e.readyState==XMLHttpRequest.DONE&&(e.status==200||e.status===0?t(e.responseText,e.status,e):(e.status==404?console.error(`Error 404: Not Found - ${n}`):e.status>=400?console.error(`HTTP Error ${e.status} for ${n}`):console.error(`Request failed for ${n}`,e.statusText),t(null,e.status,e)))},e.onerror=function(){console.error(`Network error requesting ${n}`),t(null,0,e)},e.ontimeout=function(){console.error(`Request timed out for ${n}`),t(null,408,e)};try{const r=o&&o.method||"GET";e.open(r,n,!0),o||e.send()}catch(r){console.error(`Error sending request to ${n}:`,r),t(null,0,e)}};b.i18n={};b.addI18n=function(n,o){if(!n||typeof n!="string"||!o||typeof o!="object"){console.error("Invalid arguments for addI18n:",n,o);return}const t=n.split(".");let e=b.i18n;const r=t.length-1;t.forEach(function(a,i){a&&(r===i?(e[a]||(e[a]=function(l){const c=document.documentElement.lang||"en";let h=o[c];return h==null&&(h=l,_.debug&&console.warn(`i18n: Label key ["${n}"] for lang "${c}" is missing. Using default: "${l}"`)),h!=null?String(h):""}),Object.keys(o).filter(l=>o[l]instanceof Object&&!Array.isArray(o[l])).forEach(l=>{b.addI18n(n+"."+l,o[l])})):((!e[a]||typeof e[a]=="function")&&(e[a]={}),e=e[a]))})};b.addI18ns=function(n){Object.keys(n||{}).forEach(function(o){b.addI18n(o,n[o])})};let Y=0;z.genId=function(n){return Y++,n+Y};const pe=z.applyElementProps=function(n,o){return Object.keys(o).forEach(function(t){const e=o[t],r=t==="class"?"className":t;try{t==="style"&&typeof e=="object"&&e!==null?Object.assign(n.style,e):t==="dataset"&&typeof e=="object"&&e!==null?Object.assign(n.dataset,e):t.startsWith("on")&&typeof e=="function"?n[t.toLowerCase()]=e:r in n?n[r]=e:n.setAttribute(t,String(e))}catch(a){console.error(`Error setting attribute/property "${t}" on <${n.tagName}>:`,a)}}),n},G=z.genElement=function(n,o={},...t){const e=document.createElement(n);let r={};return typeof o=="string"||o instanceof Node?t.unshift(o):Array.isArray(o)?t=o.concat(t):r=o,pe(e,r),t.forEach(a=>{typeof a=="string"?e.appendChild(document.createTextNode(a)):a instanceof Node&&e.appendChild(a)}),e};z.props=function(...n){if(!n||n.length===0)return"";const o=Object.assign({},...n),t=[];return Object.keys(o).forEach(function(e){const r=o[e];if(r||r===0){const a=String(r).replace(/"/g,"&quot;");t.push(`${e}="${a}"`)}}),t.join(" ")};oe(W);document.addEventListener("DOMContentLoaded",function(){let n;try{n=localStorage.getItem("compomint-theme")}catch(r){console.warn("Couldn't access localStorage:",r)}const o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=n==="dark"||n===null&&o;t?(document.documentElement.classList.add("dark"),document.body.classList.add("dark-mode"),document.documentElement.setAttribute("data-theme","dark")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark-mode"),document.documentElement.setAttribute("data-theme","light")),b.addTmpls(`
    <template id="ui-ThemeSwitcher">
      ##
      status.isDarkMode = status.isDarkMode !== undefined ? status.isDarkMode : ${t};
      ##
      <div class="fixed bottom-4 right-4 z-50">
        <button 
          class="bg-indigo-600 hover:bg-indigo-700 text-white p-3 rounded-full shadow-lg flex items-center justify-center transition-colors duration-200"
          data-co-event="##:{
            click: function() {
              toggleTheme();
            }
          }##"
        >
          <svg id="light-icon" class="##=status.isDarkMode ? 'hidden' : 'block'## w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
          </svg>
          <svg id="dark-icon" class="##=status.isDarkMode ? 'block' : 'hidden'## w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16.95 6.343l-.707.707M6.343 6.343l-.707-.707"></path>
          </svg>
        </button>
      </div>
      ##
        // Apply initial theme based on status
        if (status.isDarkMode) {
          applyDarkMode();
        } else {
          applyLightMode();
        }
        
        // Toggle theme function
        function toggleTheme() {
          status.isDarkMode = !status.isDarkMode;
          
          // Save preference to localStorage
          try {
            localStorage.setItem('compomint-theme', status.isDarkMode ? 'dark' : 'light');
          } catch (e) {
            console.warn("Couldn't save theme preference:", e);
          }

          if (status.isDarkMode) {
            applyDarkMode();
          } else {
            applyLightMode();
          }
          
          // Refresh component to update UI
          component.refresh();
        }
        
        // Apply dark mode
        function applyDarkMode() {
          document.documentElement.classList.add('dark');
          document.body.classList.add('dark-mode');
          document.documentElement.setAttribute('data-theme', 'dark');
        }
        
        // Apply light mode
        function applyLightMode() {
          document.documentElement.classList.remove('dark');
          document.body.classList.remove('dark-mode');
          document.documentElement.setAttribute('data-theme', 'light');
        }
      ##
    </template>
  `);const e=N.ui.ThemeSwitcher({});if(document.body.appendChild(e.element),window.matchMedia){const r=window.matchMedia("(prefers-color-scheme: dark)");r.addEventListener&&r.addEventListener("change",function(a){localStorage.getItem("compomint-theme")||(e.status.isDarkMode=a.matches,a.matches?(document.documentElement.classList.add("dark"),document.body.classList.add("dark-mode")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark-mode")),e.refresh())})}});document.addEventListener("DOMContentLoaded",function(){function n(){const o=document.querySelectorAll("pre code");if(!o.length){setTimeout(n,100);return}o.forEach(function(t){let e=t.textContent;if(t.innerHTML!==e)return;const r={keyword:/\b(const|let|var|function|return|if|else|for|while|switch|case|break|continue|new|this|typeof|instanceof|null|undefined|true|false|try|catch|finally|throw|class|extends|import|export|from|as|async|await|yield)\b/g,compomintKeyword:/\b(data|status|component|i18n|compomint|tmpl)\b/g,string:/((['"])(?:\\.|[^\\])*?\2)|(`(?:\\.|[^\\])*?`)/g,comment:/(\/\/.*?$)|(\/\*[\s\S]*?\*\/)/gm,function:/\b([a-zA-Z_$][a-zA-Z0-9_$]*)\s*\(/g,number:/\b(\d+(?:\.\d+)?)\b/g,tag:/(&lt;[^>]*&gt;)/g,compomintTemplate:/(##[=%\-!*]?[\s\S]*?##)/g},a={keyword:"text-pink-500",compomintKeyword:"text-purple-400",string:"text-green-400",comment:"text-gray-500",function:"text-blue-400",number:"text-yellow-500",tag:"text-cyan-400",compomintTemplate:"text-orange-400"};e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(const[i,l]of Object.entries(r))e=e.replace(l,function(c){if(i==="function"){const h=c.slice(0,-1);return`<span class="${a[i]}">${h}</span>(`}return`<span class="${a[i]}">${c}</span>`});t.innerHTML=e})}n(),setTimeout(n,500)});document.addEventListener("DOMContentLoaded",function(){b.addI18ns({app:{"page-title":{en:"Compomint - Lightweight Component Engine",ko:"Compomint - 경량 컴포넌트 엔진",ja:"Compomint - 軽量コンポーネントエンジン",zh:"Compomint - 轻量级组件引擎"},"meta-description":{en:"Compomint is a lightweight JavaScript template-based component engine for web applications",ko:"Compomint는 웹 애플리케이션을 위한 경량 JavaScript 템플릿 기반 컴포넌트 엔진입니다",ja:"Compomintは、Webアプリケーション向けの軽量JavaScriptテンプレートベースコンポーネントエンジンです",zh:"Compomint是一个用于Web应用程序的轻量级JavaScript模板组件引擎"},"og-image-alt":{en:"Compomint logo and code example screen",ko:"Compomint 로고 및 코드 예제 화면",ja:"Compomintロゴとコード例の画面",zh:"Compomint标志和代码示例屏幕"},examplesTitle:{en:"Code Examples",ko:"코드 예제",ja:"コード例",zh:"代码示例"}}});const n=["en","ko","ja","zh"];function o(){let t;try{t=localStorage.getItem("compomint-lang")}catch(a){console.warn("Failed to read language preference from localStorage:",a)}if(!t){const a=navigator.language.split("-")[0];t=n.includes(a)?a:"en"}const r=new URLSearchParams(window.location.search).get("lang");r&&n.includes(r)&&(t=r),document.documentElement.lang=t,localStorage.setItem("compomint-lang",t),setTimeout(function(){try{typeof window.updateMetaTags=="function"&&window.updateMetaTags()}catch(a){console.warn("Failed to update meta tags:",a)}},100)}o()});document.addEventListener("DOMContentLoaded",async function(){const n=b.addTmplByUrl(["templates/layout.cmint","templates/header.cmint","templates/hero.cmint","templates/features.cmint","templates/vscode-extension.cmint","templates/examples.cmint","templates/documentation.cmint","templates/footer.cmint","templates/ui-components.cmint","templates/ui.components.cmint","templates/pg.components.cmint","templates/ui-cookie-consent.cmint","templates/ui-language-switcher.cmint"]);n?n.then(()=>{console.log("loaded templates, now initialize app"),ue()}):(console.error("Failed to load templates, cannot initialize app"),document.getElementById("app-container").innerHTML='<div class="text-center p-8"><h1 class="text-2xl text-red-600">Error loading application templates</h1></div>'),me()});function me(){let n;try{n=localStorage.getItem("compomint-theme")}catch(e){console.warn("Couldn't access localStorage:",e)}const o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;n==="dark"||n===null&&o?(document.documentElement.classList.add("dark"),document.body.classList.add("dark-mode")):(document.documentElement.classList.remove("dark"),document.body.classList.remove("dark-mode"))}async function ue(){b.addI18ns({examples:{basicComponent:{title:{en:"Basic Component",ko:"기본 컴포넌트",ja:"基本的なコンポーネント",zh:"基础组件"},description:{en:"Simple template definition and usage",ko:"간단한 템플릿 정의와 사용 방법",ja:"シンプルなテンプレート定義と使用方法",zh:"简单的模板定义和使用方法"}},stateManagement:{title:{en:"State Management",ko:"상태 관리",ja:"状態管理",zh:"状态管理"},description:{en:"How to manage internal component state and respond to events",ko:"컴포넌트 내부 상태를 관리하고 이벤트에 반응하는 방법",ja:"コンポーネントの内部状態を管理しイベントに応答する方法",zh:"如何管理组件内部状态并响应事件"}},complexComponent:{title:{en:"Complex Component",ko:"복잡한 컴포넌트",ja:"複雑なコンポーネント",zh:"复杂组件"},description:{en:"A more complex component example: Todo List",ko:"더 복잡한 컴포넌트 예제: Todo 리스트",ja:"より複雑なコンポーネントの例：Todoリスト",zh:"更复杂的组件示例：待办事项列表"}},userManagementTable:{title:{en:"Data Table Component",ko:"데이터 테이블 컴포넌트",ja:"データテーブルコンポーネント",zh:"数据表格组件"},description:{en:"Interactive table with sorting, filtering and pagination",ko:"정렬, 필터링, 페이지네이션이 포함된 인터랙티브 테이블",ja:"ソート、フィルタリング、ページネーションを備えたインタラクティブテーブル",zh:"具有排序、过滤和分页功能的交互式表格"}},multiTemplate:{title:{en:"Multi-Template Application",ko:"다중 템플릿 애플리케이션",ja:"マルチテンプレートアプリケーション",zh:"多模板应用程序"},description:{en:"Complete application example combining multiple templates",ko:"여러 템플릿을 결합한 완전한 애플리케이션 예제",ja:"複数のテンプレートを組み合わせた完全なアプリケーション例",zh:"结合多个模板的完整应用程序示例"}}}});const n=N.ui.Header({}),o=N.ui.Hero({}),t=N.ui.Features({}),e=N.ui.VSCodeExtension({}),r=await(await fetch("templates/demo/demo.Counter.cmint")).text(),a=await(await fetch("templates/demo/demo.TodoList.cmint")).text(),i=await(await fetch("templates/demo/demo.UserManagement.cmint")).text(),l=await(await fetch("templates/demo/demo.UserManagementTable.cmint")).text(),c=N.ui.Examples({examples:()=>{var f,g,y,v,w,T,E,L,D,S,F,x,H,P,m,s,$,k,A,C;return[{class:"h-[500px]",interactive:!0,title:(g=(f=b.i18n.examples)==null?void 0:f.basicComponent)==null?void 0:g.title("Basic Component"),description:(v=(y=b.i18n.examples)==null?void 0:y.basicComponent)==null?void 0:v.description("Simple template definition and usage"),code:`// Template definition
compomint.addTmpl('demo-Button', \`
  <button class="ui-Button p-2 ##=data.color ? 'bg-' + data.color + '-50' : ''##"
    data-co-event="##:data.onClick##">
    ##=data.label##
  </button>
\`);

// Create and use component
const button = tmpl.demo.Button({
  label: 'Click here',
  color: 'indigo',
  onClick: function() {
    alert('The button has been clicked!');
  }
});
document.body.appendChild(button.element);`},{class:"h-[700px]",interactive:!0,title:(T=(w=b.i18n.examples)==null?void 0:w.stateManagement)==null?void 0:T.title("State Management"),description:(L=(E=b.i18n.examples)==null?void 0:E.stateManagement)==null?void 0:L.description("How to manage internal component state and respond to events"),type:"codeIsTemplateFile",template:r,code:`// Create a counter component for an example
const counter = tmpl.demo.Counter({
  initialCount: 1
});
document.body.appendChild(counter.element);`},{class:"h-[1000px]",interactive:!0,title:(S=(D=b.i18n.examples)==null?void 0:D.complexComponent)==null?void 0:S.title("Complex Component"),description:(x=(F=b.i18n.examples)==null?void 0:F.complexComponent)==null?void 0:x.description("A more complex component example: Todo List"),type:"codeIsTemplateFile",template:a,code:`// Create a todo list component for an example
const todoList = tmpl.demo.TodoList({
  initialTodos: [
    { text: "Read Compomint documentation", completed: true },
    { text: "Create your first component", completed: false },
    { text: "Apply to website", completed: false }
  ]
});
document.body.appendChild(todoList.element);`},{class:"h-[1400px]",interactive:!0,title:(P=(H=b.i18n.examples)==null?void 0:H.userManagementTable)==null?void 0:P.title("Data Table Component"),description:(s=(m=b.i18n.examples)==null?void 0:m.userManagementTable)==null?void 0:s.description("Interactive table with sorting, filtering and pagination"),type:"codeIsTemplateFile",template:l,imports:[],code:`// Create a user management system for an example
const userManagementTable = tmpl.demo.UserManagementTable({
  users: [
    { id: 1, name: 'Kim Chul-su', email: 'kim@example.com', role: 'admin', status: 'active', joinDate: '2024-01-15' },
    { id: 2, name: 'Lee Young-hee', email: 'lee@example.com', role: 'moderator', status: 'active', joinDate: '2024-02-10' },
    { id: 3, name: 'Park Min-su', email: 'park@example.com', role: 'user', status: 'inactive', joinDate: '2024-03-05' },
    { id: 4, name: 'Choi Ji-eun', email: 'choi@example.com', role: 'user', status: 'pending', joinDate: '2024-06-20' }
  ]
});
document.body.appendChild(userManagementTable.element);`},{class:"h-[1400px]",interactive:!0,title:(k=($=b.i18n.examples)==null?void 0:$.multiTemplate)==null?void 0:k.title("Multi-Template Application"),description:(C=(A=b.i18n.examples)==null?void 0:A.multiTemplate)==null?void 0:C.description("Complete application example combining multiple templates"),type:"codeIsTemplateFile",template:i,imports:[],code:`// Create a user management system for an example
const userManagement = tmpl.demo.UserManagement({
  users: [
    { id: 1, name: 'Kim Chul-su', email: 'kim@example.com', role: 'admin', active: true, joinDate: '2024-01-15' },
    { id: 2, name: 'Lee Young-hee', email: 'lee@example.com', role: 'moderator', active: true, joinDate: '2024-02-10' },
    { id: 3, name: 'Park Min-su', email: 'park@example.com', role: 'user', active: false, joinDate: '2024-03-05' },
    { id: 4, name: 'Choi Ji-eun', email: 'choi@example.com', role: 'user', active: true, joinDate: '2024-06-20' }
  ]
});
document.body.appendChild(userManagement.element);`}]}}),h=N.ui.Documentation({}),u=N.ui.Footer({}),d=N.app.Layout({header:n,hero:o,features:t,vscodeExtension:e,examples:c,documentation:h,footer:u});document.getElementById("app-container").appendChild(d.element),window.appLayout=d,document.querySelectorAll('a[href^="#"]').forEach(f=>{f.addEventListener("click",function(g){g.preventDefault();const y=this.getAttribute("href");if(y==="#")return;const v=document.querySelector(y);console.log("Target ID:",y,"Target Element:",v),v?window.scrollTo({top:v.offsetTop-70,behavior:"smooth"}):console.warn("Target element not found:",y)})})}
